var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(a==Array.prototype||a==Object.prototype)return a;a[c]=b.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,c){var b=$jscomp.propertyToPolyfillSymbol[c];if(null==b)return a[c];b=a[b];return void 0!==b?b:a[c]};$jscomp.polyfill=function(a,c,b,d){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,c,b,d):$jscomp.polyfillUnisolated(a,c,b,d))};
$jscomp.polyfillUnisolated=function(a,c,b,d){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in b))return;b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(a,c,b,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<e.length-1;g++){var l=e[g];if(!(l in d))return;d=d[l]}e=e[e.length-1];b=$jscomp.IS_SYMBOL_NATIVE&&"es6"===b?d[e]:null;c=c(b);null!=c&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:c}):c!==b&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:c})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var c=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var b=0,d=function(a){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(a||"")+"_"+b++,a)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<c.length;b++){var d=$jscomp.global[c[b]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var e=c.length;b=b||0;for(0>b&&(b=Math.max(b+e,0));b<e;b++){var g=c[b];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");(function(a){})(jQuery);
function documentReady(){function a(a){var b=new FormData;b.append("reqcode",65);b.append("suffix",a);k=setInterval(function(){$.ajax({type:"POST",url:"data/parts/backend_request.php",data:b,processData:!1,contentType:!1,success:function(a){console.log("watchdog running");console.log("watchdog msg: "+a);"null"===a?(clearInterval(k),c(100)):(a=JSON.parse(a),a=Math.floor(100*a.bytes_processed/a.content_length),console.log("percentage completed: "+a),c(a),100<=a&&(clearInterval(k),c(100)))}})},600)}
function c(a){r.removeClass("mdc-linear-progress--closed");z.progress=a/100;100!==a?t.text(a+"%"):(t.text("Complete."),u.style.display="none",v.style.display="inline-block")}function b(){var a=document.createElement("div");a.setAttribute("class","spinner");var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");b.setAttribute("class","bounce1");c.setAttribute("class","bounce2");d.setAttribute("class","bounce3");a.appendChild(b);a.appendChild(c);a.appendChild(d);
return a}function d(a,b){var c=new FileReader;c.onload=function(c){(new (window.AudioContext||window.webkitAudioContext)).decodeAudioData(c.target.result,function(c){c=c.duration;console.log("The duration of file ("+a+") is of: "+c+" seconds");var b=(new Date(1E3*c)).toISOString().substr(11,8).toString();$("#qfile"+a+" td:nth-child(4)").html(b);$("#qfile"+a+" td:nth-child(5)").html(Math.round(c));x++;x===y&&A.removeAttribute("disabled")})};c.onerror=function(a){console.error("An error ocurred reading the file: ",
a)};c.readAsArrayBuffer(b)}function e(a,c,d){var e=document.createElement("tr");e.setAttribute("id","qfile"+a);var p=document.createElement("td");p.innerHTML=a+1;a=document.createElement("td");a.innerHTML=c;c=document.createElement("td");d=1024>d?d+"bytes":1024<d&&1048576>d?(d/1024).toFixed(1)+"KB":1048576<d?(d/1048576).toFixed(1)+"MB":void 0;c.innerHTML=d;d=document.createElement("td");d.appendChild(b());var q=document.createElement("td");q.appendChild(b());e.appendChild(p);e.appendChild(a);e.appendChild(c);
e.appendChild(d);e.appendChild(q);return e}function g(){f.removeChild(f.firstChild);var a=document.createElement("p");f.appendChild(a);document.querySelector(".submit_btn").setAttribute("disabled","true");document.querySelector(".clear_btn").setAttribute("disabled","true");$(".demo_author").val("");$("#demo_job_type option:selected").html();$(".demo_dictdate").val("yyyy-mm-dd");$("#demo_speaker_type").val(0);$("#demo_comments").val("")}var l=document.getElementById("upload_btn");document.getElementById("upload_btn_lbl");
document.getElementById("clear_btn");var A=document.querySelector(".submit_btn"),u=document.getElementById("cancelUpload"),v=document.getElementById("confirmUpload"),f=document.querySelector(".preview"),n=document.querySelector(".previewModal");document.querySelector("form");new mdc.ripple.MDCRipple(document.querySelector(".clear_btn"));new mdc.ripple.MDCRipple(document.querySelector(".upload_btn_lbl"));new mdc.ripple.MDCRipple(document.querySelector(".submit_btn"));new mdc.ripple.MDCRipple(document.querySelector("#cancelUpload"));
new mdc.ripple.MDCRipple(document.querySelector("#confirmUpload"));var B=document.getElementById("modal"),y=0,x=0;l.style.display="none";l.addEventListener("change",function(){for(;f.firstChild;)f.removeChild(f.firstChild);var a=l.files;if(0===a.length){var c=document.createElement("p");c.textContent="No files currently selected for upload";f.appendChild(c)}else{y=a.length;document.querySelector(".clear_btn").removeAttribute("disabled");c=document.createElement("table");var b=document.createElement("tr"),
h=document.createElement("th"),m=document.createElement("th"),w=document.createElement("th"),g=document.createElement("th"),k=document.createElement("th");h.innerHTML="#";m.innerHTML="File Name";w.innerHTML="Size";g.innerHTML="Duration";k.innerHTML="in secs";b.append(h);b.append(m);b.append(w);b.append(g);b.append(k);c.setAttribute("class","que-files");c.appendChild(b);f.appendChild(c);b=0;a=$jscomp.makeIterator(a);for(h=a.next();!h.done;h=a.next())h=h.value,m=document.createElement("p"),C.includes(h.type)?
(c.appendChild(e(b,h.name,h.size)),d(b,h)):(m.textContent="File name "+h.name+": Not a valid file type. Update your selection.",f.appendChild(m)),f.appendChild(m),b++}});var z=new mdc.linearProgress.MDCLinearProgress(document.querySelector(".mdc-linear-progress")),r=$(".mdc-linear-progress"),t=$("#progressTxt");document.querySelector(".clear_btn").addEventListener("click",function(a){r.addClass("mdc-linear-progress--closed");files=[];f.removeChild(f.firstChild);a=document.createElement("p");a.textContent=
"No files currently selected for upload";f.appendChild(a);document.querySelector(".submit_btn").setAttribute("disabled","true");document.querySelector(".clear_btn").setAttribute("disabled","true")});u.addEventListener("click",function(a){location.reload()});v.addEventListener("click",function(a){location.href="main.php"});var k;$("#upload_form").on("submit",function(b){b.preventDefault();if(validateFields()){B.style.display="block";b.preventDefault();var d=new FormData;b=$("input[type=file]")[0].files;
var e=$("#upload_form").serializeArray();$.each(e,function(a,c){d.append(c.name,c.value)});for(e=0;e<b.length;e++)d.append("file"+e,b[e]),console.log(b[e]);$.post("data/parts/backend_request.php",{reqcode:60}).done(function(b){b=JSON.parse(b);var e=b.next_job_num;d.append("nextFileID",b.next_job_id);d.append("nextJobNum",e);d.append("reqcode",61);d.append("authorName",$(".demo_author").val());d.append("jobType",$("#demo_job_type option:selected").html());d.append("dictDate",$(".demo_dictdate").val());
d.append("speakerType",$("#demo_speaker_type").val());d.append("comments",$("#demo_comments").val());$.ajax({type:"POST",url:"data/parts/backend_request.php",data:d,processData:!1,contentType:!1,success:function(a){console.log("REQ65 RESPONSE: "+a);null!=k&&clearInterval(k);c(100);console.log(a);console.log("Upload call was successful");console.log("Full JSON object: "+JSON.stringify(a));g();var b="",d=Object.keys(a).length;for(i=0;i<d;i++)b+=a[i],console.log("Key: "+i),console.log("Value: "+a[i]),
console.log(b);a=document.createElement("ol");a.setAttribute("class","uploadResultList");n.appendChild(a);n.insertAdjacentHTML("afterbegin",b);$.post("data/parts/backend_request.php",{reqcode:80,args:JSON.stringify({mailtype:15,usertype:3})}).done(function(a){console.log(a)})},error:function(a){console.log("REQ65 RESPONSE: "+a);null!=k&&clearInterval(k);g();htmlEl="<li><span style='color=#ff00multipart/form-data\"00;'>UPLOAD EXCEPTION HAS OCCURRED. PLEASE TRY AGAIN AND IF ERROR PERSISTS, PLEASE CONTACT SUPPORT</span></li>";
a=document.createElement("ol");n.appendChild(a);n.insertAdjacentHTML("afterbegin",htmlEl)}});console.log("enable watchdog1");a("job_upload");console.log("enable watchdog2")})}else alert("Please fill in required fields")});var C="audio/mpeg audio/ogg audio/wav audio/dss audio/ds2 audio/vnd.wave audio/wave audio/x-wav".split(" ")}
function validateFields(){var a=1;""===$(".demo_author").val()&&(document.querySelector(".demo_author").style.backgroundColor="#eec5c9",a=0);""===$(".demo_dictdate").val()&&(document.querySelector(".demo_dictdate").style.backgroundColor="#eec5c9",a=0);var c=document.getElementById("demo_speaker_type");"--Please Select--"===c.options[c.selectedIndex].text&&(document.querySelector("#demo_speaker_type").style.backgroundColor="#eec5c9",a=0);return 1===a}document.addEventListener("DOMContentLoaded",documentReady);
