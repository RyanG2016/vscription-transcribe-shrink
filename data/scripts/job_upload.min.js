var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,e){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,e):$jscomp.polyfillUnisolated(a,b,c,e))};
$jscomp.polyfillUnisolated=function(a,b,c,e){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))return;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,e){var d=a.split(".");a=1===d.length;e=d[0];e=!a&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<d.length-1;g++){var f=d[g];if(!(f in e))return;e=e[f]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+d,d=
$jscomp.propertyToPolyfillSymbol[d],$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,e=function(a){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(a||"")+"_"+c++,a)};return e},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var e=$jscomp.global[b[c]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&$jscomp.defineProperty(e.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var d=c++;return{value:b(d,a[d]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var d=b.length;c=c||0;for(0>c&&(c=Math.max(c+d,0));c<d;c++){var g=b[c];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");(function(a){})(jQuery);
function documentReady(){function a(a){var c=new FormData;c.append("reqcode",65);c.append("suffix",a);h=setInterval(function(){$.ajax({type:"POST",url:"data/parts/backend_request.php",data:c,processData:!1,contentType:!1,success:function(a){console.log("watchdog running");console.log("watchdog msg: "+a);"null"===a?(clearInterval(h),b(100)):(a=JSON.parse(a),a=Math.floor(100*a.bytes_processed/a.content_length),console.log("percentage completed: "+a),b(a),100<=a&&(clearInterval(h),b(100)))}})},600)}
function b(a){l.removeClass("mdc-linear-progress--closed");n.progress=a/100;100!==a?m.text(a+"%"):(m.text("Complete."),d.style.display="none",g.style.display="inline-block")}function c(){f.removeChild(f.firstChild);var a=document.createElement("p");f.appendChild(a);document.querySelector(".submit_btn").setAttribute("disabled","true");document.querySelector(".clear_btn").setAttribute("disabled","true");$(".demo_author").val("");$("#demo_job_type option:selected").html();$(".demo_dictdate").val("yyyy-mm-dd");
$("#demo_speaker_type").val(0);$("#demo_comments").val("")}var e=document.getElementById("upload_btn");document.getElementById("upload_btn_lbl");document.getElementById("clear_btn");var d=document.getElementById("cancelUpload"),g=document.getElementById("confirmUpload"),f=document.querySelector(".preview"),k=document.querySelector(".previewModal");document.querySelector("form");new mdc.ripple.MDCRipple(document.querySelector(".clear_btn"));new mdc.ripple.MDCRipple(document.querySelector(".upload_btn_lbl"));
new mdc.ripple.MDCRipple(document.querySelector(".submit_btn"));new mdc.ripple.MDCRipple(document.querySelector("#cancelUpload"));new mdc.ripple.MDCRipple(document.querySelector("#confirmUpload"));var p=document.getElementById("modal");e.style.display="none";e.addEventListener("change",function(){for(;f.firstChild;)f.removeChild(f.firstChild);var a=e.files;if(0===a.length){var c=document.createElement("p");c.textContent="No files currently selected for upload";f.appendChild(c)}else{document.querySelector(".submit_btn").removeAttribute("disabled");
document.querySelector(".clear_btn").removeAttribute("disabled");c=document.createElement("ol");f.appendChild(c);a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next()){var d=b.value;b=document.createElement("li");var g=document.createElement("p");if(q.includes(d.type)){var r="File name "+d.name+", file size ";d=d.size;d=1024>d?d+"bytes":1024<d&&1048576>d?(d/1024).toFixed(1)+"KB":1048576<d?(d/1048576).toFixed(1)+"MB":void 0;g.textContent=r+d+"."}else g.textContent="File name "+d.name+": Not a valid file type. Update your selection.";
b.appendChild(g);c.appendChild(b)}}});var n=new mdc.linearProgress.MDCLinearProgress(document.querySelector(".mdc-linear-progress")),l=$(".mdc-linear-progress"),m=$("#progressTxt");document.querySelector(".clear_btn").addEventListener("click",function(a){l.addClass("mdc-linear-progress--closed");files=[];f.removeChild(f.firstChild);a=document.createElement("p");a.textContent="No files currently selected for upload";f.appendChild(a);document.querySelector(".submit_btn").setAttribute("disabled","true");
document.querySelector(".clear_btn").setAttribute("disabled","true")});d.addEventListener("click",function(a){location.reload()});g.addEventListener("click",function(a){location.href="main.php"});var h;$("#upload_form").on("submit",function(d){d.preventDefault();if(validateFields()){p.style.display="block";d.preventDefault();var e=new FormData;d=$("input[type=file]")[0].files;var f=$("#upload_form").serializeArray();$.each(f,function(a,b){e.append(b.name,b.value)});for(f=0;f<d.length;f++)e.append("file"+
f,d[f]),console.log(d[f]);$.post("data/parts/backend_request.php",{reqcode:60}).done(function(d){d=JSON.parse(d);var f=d.next_job_num;e.append("nextFileID",d.next_job_id);e.append("nextJobNum",f);e.append("reqcode",61);e.append("authorName",$(".demo_author").val());e.append("jobType",$("#demo_job_type option:selected").html());e.append("dictDate",$(".demo_dictdate").val());e.append("speakerType",$("#demo_speaker_type").val());e.append("comments",$("#demo_comments").val());$.ajax({type:"POST",url:"data/parts/backend_request.php",
data:e,processData:!1,contentType:!1,success:function(a){console.log("REQ65 RESPONSE: "+a);null!=h&&clearInterval(h);b(100);console.log(a);console.log("Upload call was successful");console.log("Full JSON object: "+JSON.stringify(a));c();var d="",e=Object.keys(a).length;for(i=0;i<e;i++)d+=a[i],console.log("Key: "+i),console.log("Value: "+a[i]),console.log(d);a=document.createElement("ol");a.setAttribute("class","uploadResultList");k.appendChild(a);k.insertAdjacentHTML("afterbegin",d);$.post("data/parts/backend_request.php",
{reqcode:80,args:JSON.stringify({mailtype:15,usertype:3})}).done(function(a){console.log(a)})},error:function(a){console.log("REQ65 RESPONSE: "+a);null!=h&&clearInterval(h);c();htmlEl="<li><span style='color=#ff00multipart/form-data\"00;'>UPLOAD EXCEPTION HAS OCCURRED. PLEASE TRY AGAIN AND IF ERROR PERSISTS, PLEASE CONTACT SUPPORT</span></li>";a=document.createElement("ol");k.appendChild(a);k.insertAdjacentHTML("afterbegin",htmlEl)}});console.log("enable watchdog1");a("job_upload");console.log("enable watchdog2")})}else alert("Please fill in required fields")});
var q="audio/mpeg audio/ogg audio/wav audio/dss audio/ds2 audio/vnd.wave audio/wave audio/x-wav".split(" ")}
function validateFields(){var a=1;""===$(".demo_author").val()&&(document.querySelector(".demo_author").style.backgroundColor="#eec5c9",a=0);""===$(".demo_dictdate").val()&&(document.querySelector(".demo_dictdate").style.backgroundColor="#eec5c9",a=0);var b=document.getElementById("demo_speaker_type");"--Please Select--"===b.options[b.selectedIndex].text&&(document.querySelector("#demo_speaker_type").style.backgroundColor="#eec5c9",a=0);return 1===a}document.addEventListener("DOMContentLoaded",documentReady);
