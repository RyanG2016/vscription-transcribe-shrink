var a0_0x335d=['innerHTML','removeClass','vtex-validate-error','remove','none','data','../api/v1/access?dt&uid=','btn-red','append','removeAttr','Set\x20as\x20default','appendChild','accountBox','.createAccForm\x20input[type=radio]','role_desc','#modal','\x20-\x20','</option>','ajax','<i\x20class=\x22fas\x20fa-user-edit\x22></i>&nbsp;Update\x20Permission','html','&quot;','ajaxSetup','confirm','css','#createAcc','btn-green','each','#accountBox','contextMenu','.modal','../api/v1/accounts/?access-model','_all','focus','val','click','../api/v1/users/set-default/','block','&amp;','disabled','email','input[type=radio]','delete','GET','body','querySelector','<option\x20value=\x27','niceScroll','checked','&lsquo;','#createAccBtn','Error','Are\x20you\x20sure\x20do\x20you\x20want\x20to\x20set\x20<b>','#createAccForm','inline','display','ready','style','acc_role','Choose\x20Role','msg','.access-tbl\x20tbody\x20tr','access_id','DataTable','reload','bounce3','trim','Delete','selectpicker','MDCRipple','find','parent','<i\x20class=\x22fas\x20fa-check-circle\x20vtex-status-icon\x22></i>','input:not(input[type=radio])','#updateAccBtn','Edit','setAttribute','class','yes','spinner','Success','PUT','#refresh_btn','<i\x20class=\x22fas\x20fa-user-minus\x22></i>\x20Revoke\x20Access?','getElementById','responseJSON','#modalHeaderTitle','<i\x20class=\x22fas\x20fa-key\x22></i>&nbsp;Add\x20Permission','roleBox','mdc-data-table__cell','acc_name','Choose\x20Account','#access-tbl','role_id','acc_id','.spinner','<i\x20class=\x22fas\x20fa-key\x22></i>\x20Set\x20as\x20default?','modal','.cancel-acc-button','attr','def_access_id','DELETE','stop','createElement','#roleBox','Are\x20you\x20sure\x20do\x20you\x20want\x20to\x20revoke\x20access\x20to\x20<b>','bounce2','white','bounce1','animate','POST','replace','div','uid','.createAccForm\x20input:not(input[type=radio])','#uidIn'];(function(_0x440773,_0x335d57){var _0x346e0c=function(_0x16e5e4){while(--_0x16e5e4){_0x440773['push'](_0x440773['shift']());}};_0x346e0c(++_0x335d57);}(a0_0x335d,0x115));var a0_0x346e=function(_0x440773,_0x335d57){_0x440773=_0x440773-0x0;var _0x346e0c=a0_0x335d[_0x440773];return _0x346e0c;};var _0x5c33e8=a0_0x346e;(function(_0x16e5e4){'use strict';}(jQuery));var accessDT,accessDTRef,createAcc,createAccModal,createAccForm,createAccBtn,updateAccBtn,modalHeaderTitle,accountsGlobal,rolesGlobal;const ACCOUNTS_URL=_0x5c33e8('0x66'),ROLES_URL='../api/v1/roles/',API_INSERT_URL='../api/v1/access/',SET_DEFAULT_ACCESS_URL=_0x5c33e8('0x6b'),CREATE_ACC_HEADER=_0x5c33e8('0x2a'),UPDATE_ACC_HEADER=_0x5c33e8('0x5a');var accountBox,roleBox,update=![],updateData,currentID,uid;$(document)[_0x5c33e8('0xb')](function(){var _0x19a3e1=_0x5c33e8;const _0x54ad8c=0xa;var _0xa9e539=$(_0x19a3e1('0x46'));uid=_0xa9e539[_0x19a3e1('0x69')](),createAccModal=document[_0x19a3e1('0x27')](_0x19a3e1('0x34')),accessDT=$(_0x19a3e1('0x2f')),createAcc=$(_0x19a3e1('0x60')),createAccForm=$(_0x19a3e1('0x8')),createAccBtn=$(_0x19a3e1('0x5')),updateAccBtn=$(_0x19a3e1('0x1d')),modalHeaderTitle=$(_0x19a3e1('0x29')),accountBox=$(_0x19a3e1('0x63')),roleBox=$(_0x19a3e1('0x3b')),$(_0x19a3e1('0x65'))[_0x19a3e1('0x2')]({'hwacceleration':!![],'smoothscroll':!![],'cursorcolor':_0x19a3e1('0x3e'),'cursorborder':0x0,'scrollspeed':0xa,'mousescrollstep':0x14,'cursoropacitymax':0.7}),$(_0x19a3e1('0x73'))['niceScroll']({'hwacceleration':!![],'smoothscroll':!![],'cursorcolor':_0x19a3e1('0x3e'),'cursorborder':0x0,'scrollspeed':0xa,'mousescrollstep':0x14,'cursoropacitymax':0.7}),$[_0x19a3e1('0x5d')]({'cache':![]});const _0x27e21b=document[_0x19a3e1('0x0')](_0x19a3e1('0x25'));new mdc['ripple'][(_0x19a3e1('0x18'))](document[_0x19a3e1('0x0')]('#refresh_btn'));function _0x4463a4(_0x32a58c=![],_0x471fa9=null){var _0x5de59c=_0x19a3e1,_0x56a724=new FormData(document[_0x5de59c('0x0')](_0x5de59c('0x8')));_0x56a724[_0x5de59c('0x4f')](_0x5de59c('0x44'),uid),createAccBtn[_0x5de59c('0x36')](_0x5de59c('0x6e'),_0x5de59c('0x6e')),updateAccBtn['attr'](_0x5de59c('0x6e'),_0x5de59c('0x6e')),$[_0x5de59c('0x59')]({'type':_0x32a58c?_0x5de59c('0x24'):_0x5de59c('0x41'),'url':_0x32a58c?API_INSERT_URL+_0x471fa9+'/':API_INSERT_URL,'processData':![],'data':convertToSearchParam(_0x56a724),'success':function(_0x3786f7){var _0x54dc07=_0x5de59c;resetForm(),accessDTRef['ajax']['reload'](),createAccModal[_0x54dc07('0xc')][_0x54dc07('0xa')]=_0x54dc07('0x4b'),$[_0x54dc07('0x5e')]({'title':_0x54dc07('0x23'),'content':_0x3786f7['msg'],'buttons':{'confirm':{'btnClass':_0x54dc07('0x61'),'action':function(){return!![];}}}});},'error':function(_0x58ce75){var _0x31c7a3=_0x5de59c;$['confirm']({'title':_0x31c7a3('0x6'),'content':_0x58ce75[_0x31c7a3('0x28')]['msg'],'buttons':{'confirm':{'btnClass':_0x31c7a3('0x4e'),'action':function(){var _0x51cc5e=_0x31c7a3;return createAccBtn['removeAttr'](_0x51cc5e('0x6e')),updateAccBtn[_0x51cc5e('0x50')](_0x51cc5e('0x6e')),!![];}}}});}});}$(_0x19a3e1('0x45'))[_0x19a3e1('0x62')](function(){var _0x5e3308=_0x19a3e1;$(this)[_0x5e3308('0x68')](function(){hideValidate(this);});}),$(_0x19a3e1('0x54'))[_0x19a3e1('0x62')](function(){var _0x3b240f=_0x19a3e1;$(this)[_0x3b240f('0x68')](function(){hideValidate(this,!![]);});}),accessDTRef=accessDT[_0x19a3e1('0x12')]({'rowId':_0x19a3e1('0x31'),'ajax':_0x19a3e1('0x4d')+uid,'processing':!![],'lengthChange':![],'pageLength':_0x54ad8c,'autoWidth':![],'columnDefs':[{'targets':[_0x19a3e1('0x67')],'className':_0x19a3e1('0x2c')}],'columns':[{'data':'access_id'},{'data':_0x19a3e1('0x31')},{'data':_0x19a3e1('0x2d')},{'data':'username'},{'data':_0x19a3e1('0x6f')},{'data':'acc_role'},{'data':_0x19a3e1('0x55')},{'data':_0x19a3e1('0x11'),'render':function(_0x5033f8,_0x399b0c,_0x189788){var _0x3e70a6=_0x19a3e1;return _0x5033f8==_0x189788[_0x3e70a6('0x37')]?_0x3e70a6('0x1b'):'';}}]}),$[_0x19a3e1('0x64')]({'selector':_0x19a3e1('0x10'),'callback':function(_0x200457,_0x4cc7a0){var _0xef9706=_0x19a3e1,_0x52357a=accessDTRef['row'](this)[_0xef9706('0x4c')]();switch(_0x200457){case _0xef9706('0x71'):var _0x36683f=_0x52357a[_0xef9706('0x11')],_0x1ff88d=_0x52357a[_0xef9706('0x6f')];$['confirm']({'title':_0xef9706('0x26'),'content':_0xef9706('0x3c')+_0x52357a[_0xef9706('0x2d')]+'</b>\x20as\x20<b>'+_0x52357a[_0xef9706('0x55')]+'</b>\x20?<br><br>','buttons':{'confirm':{'text':_0xef9706('0x21'),'btnClass':'btn-red','action':function(){var _0x1e991c=_0xef9706;return $[_0x1e991c('0x59')]({'type':_0x1e991c('0x38'),'url':API_INSERT_URL+_0x36683f,'processData':![],'contentType':![],'success':function(_0x43ff1f){var _0x2dfe77=_0x1e991c;accessDTRef[_0x2dfe77('0x59')]['reload'](),$[_0x2dfe77('0x5e')]({'title':_0x2dfe77('0x23'),'content':_0x43ff1f[_0x2dfe77('0xf')],'buttons':{'confirm':{'btnClass':'btn-green','action':function(){return!![];}}}});},'error':function(_0x4697d6){var _0x274580=_0x1e991c;accessDTRef['ajax'][_0x274580('0x13')](),$[_0x274580('0x5e')]({'title':'Error','content':_0x4697d6['responseJSON'][_0x274580('0xf')],'buttons':{'confirm':{'btnClass':_0x274580('0x4e'),'action':function(){return!![];}}}});}}),!![];}},'cancel':{'text':'no','btnClass':_0xef9706('0x61'),'function'(){return!![];}}}});break;case'def':var _0xc7469d=_0x52357a['access_id'],_0xfe9094=_0x52357a[_0xef9706('0x31')],_0x55b69b=_0x52357a[_0xef9706('0xd')],_0x40023d=_0x52357a[_0xef9706('0x44')];$[_0xef9706('0x5e')]({'title':_0xef9706('0x33'),'content':_0xef9706('0x7')+_0xc7469d+'</b>\x20as\x20default\x20access\x20?<br><br>','buttons':{'confirm':{'text':_0xef9706('0x21'),'btnClass':_0xef9706('0x61'),'action':function(){var _0x559baf=_0xef9706,_0x4e499a=new FormData();return _0x4e499a[_0x559baf('0x4f')](_0x559baf('0x31'),_0xfe9094),_0x4e499a[_0x559baf('0x4f')](_0x559baf('0xd'),_0x55b69b),_0x4e499a[_0x559baf('0x4f')](_0x559baf('0x44'),_0x40023d),$[_0x559baf('0x59')]({'type':'POST','url':SET_DEFAULT_ACCESS_URL,'processData':![],'data':convertToSearchParam(_0x4e499a),'success':function(_0x565c99){var _0x4d5775=_0x559baf;return accessDTRef[_0x4d5775('0x59')][_0x4d5775('0x13')](),!![];},'error':function(_0x4f041e){var _0x57a641=_0x559baf;$['confirm']({'title':_0x57a641('0x6'),'content':_0x4f041e[_0x57a641('0x28')][_0x57a641('0xf')],'buttons':{'confirm':{'btnClass':'btn-red','action':function(){var _0x169ef8=_0x57a641;return accessDTRef[_0x169ef8('0x59')][_0x169ef8('0x13')](),!![];}}}});}}),!![];}},'cancel':{'text':'no','btnClass':_0xef9706('0x4e'),'function'(){return!![];}}}});break;case'edit':preFillForm(_0x52357a);break;}},'items':{'edit':{'name':_0x19a3e1('0x1e'),'icon':'fas\x20fa-key'},'def':{'name':_0x19a3e1('0x51'),'icon':'fas\x20fa-toggle-on'},'sep1':'---------','delete':{'name':_0x19a3e1('0x16'),'icon':'fas\x20fa-trash-alt'}}}),_0x27e21b['addEventListener'](_0x19a3e1('0x6a'),_0x15aa0c=>{var _0x3489f9=_0x19a3e1;accessDTRef[_0x3489f9('0x59')][_0x3489f9('0x13')]();}),createAcc['on'](_0x19a3e1('0x6a'),function(_0x4ae216){var _0x155dc4=_0x19a3e1;update=![],updateAccBtn[_0x155dc4('0x5f')](_0x155dc4('0xa'),_0x155dc4('0x4b')),createAccBtn[_0x155dc4('0x5f')]('display',_0x155dc4('0x9')),createAccModal[_0x155dc4('0xc')][_0x155dc4('0xa')]=_0x155dc4('0x6c'),$(_0x155dc4('0x56'))[_0x155dc4('0x39')]()[_0x155dc4('0x40')]({'scrollTop':0x0},0x1f4);}),updateAccBtn['on'](_0x19a3e1('0x6a'),function(_0x2d85a8){_0x4463a4(!![],currentID);}),createAccBtn['on'](_0x19a3e1('0x6a'),function(_0x4bd962){_0x4463a4();}),$(_0x19a3e1('0x35'))['on'](_0x19a3e1('0x6a'),function(_0x5b8881){var _0x326685=_0x19a3e1;resetForm(),createAccModal['style'][_0x326685('0xa')]='none';}),$[_0x19a3e1('0x59')]({'url':ACCOUNTS_URL,'method':_0x19a3e1('0x72'),'success':function(_0x1761cf){var _0x2af187=_0x19a3e1;accountsGlobal=_0x1761cf;const _0x1ab6db=document[_0x2af187('0x27')](_0x2af187('0x53'));for(const _0x22f99f of _0x1761cf){_0x1ab6db[_0x2af187('0x47')]+=_0x2af187('0x1')+_0x22f99f[_0x2af187('0x31')]+'\x27>'+_0x22f99f['acc_id']+_0x2af187('0x57')+_0x22f99f[_0x2af187('0x2d')]+_0x2af187('0x58');}accountBox[_0x2af187('0x17')]({'liveSearch':!![],'liveSearchPlaceholder':_0x2af187('0x2e')}),createAccBtn[_0x2af187('0x50')](_0x2af187('0x6e')),updateAccBtn[_0x2af187('0x50')]('disabled');}}),$[_0x19a3e1('0x59')]({'url':ROLES_URL,'method':_0x19a3e1('0x72'),'success':function(_0x341e15){var _0x14d564=_0x19a3e1;rolesGlobal=_0x341e15;const _0x4bad34=document[_0x14d564('0x27')](_0x14d564('0x2b'));for(const _0x3932e7 of _0x341e15){_0x4bad34['innerHTML']+='<option\x20value=\x27'+_0x3932e7['role_id']+'\x27>'+_0x3932e7[_0x14d564('0x30')]+_0x14d564('0x57')+_0x3932e7[_0x14d564('0x55')]+_0x14d564('0x58');}roleBox[_0x14d564('0x17')]({'liveSearch':!![],'liveSearchPlaceholder':_0x14d564('0xe')});}});});function htmlEncodeStr(_0x4ec76b){var _0x322391=_0x5c33e8;return _0x4ec76b[_0x322391('0x42')](/&/g,_0x322391('0x6d'))['replace'](/>/g,'&gt;')[_0x322391('0x42')](/</g,'&lt;')[_0x322391('0x42')](/"/g,_0x322391('0x5c'))['replace'](/'/g,_0x322391('0x4'));}function resetForm(){var _0x11f311=_0x5c33e8;modalHeaderTitle[_0x11f311('0x5b')](CREATE_ACC_HEADER),updateAccBtn[_0x11f311('0x5f')](_0x11f311('0xa'),_0x11f311('0x4b')),createAccBtn['css']('display',_0x11f311('0x9')),createAccForm[_0x11f311('0x19')](_0x11f311('0x1c'))[_0x11f311('0x69')](''),createAccForm[_0x11f311('0x19')](_0x11f311('0x70'))['prop'](_0x11f311('0x3'),![])['change'](),createAccBtn[_0x11f311('0x50')](_0x11f311('0x6e')),updateAccBtn['removeAttr'](_0x11f311('0x6e'));}function preFillForm(_0x17d288){var _0x4a8a73=_0x5c33e8;update=!![],updateData=_0x17d288,currentID=_0x17d288[_0x4a8a73('0x11')],modalHeaderTitle['html'](UPDATE_ACC_HEADER),updateAccBtn['css'](_0x4a8a73('0xa'),_0x4a8a73('0x9')),createAccBtn[_0x4a8a73('0x5f')](_0x4a8a73('0xa'),_0x4a8a73('0x4b')),accountBox[_0x4a8a73('0x17')]('val',_0x17d288[_0x4a8a73('0x31')]),roleBox['selectpicker'](_0x4a8a73('0x69'),_0x17d288[_0x4a8a73('0xd')]),createAccModal[_0x4a8a73('0xc')]['display']=_0x4a8a73('0x6c'),$('#modal')[_0x4a8a73('0x39')]()[_0x4a8a73('0x40')]({'scrollTop':0x0},0x1f4);}function hideValidate(_0x437a71,_0x27ea68=![]){var _0x3f2731=_0x5c33e8,_0x182a70;_0x27ea68?_0x182a70=$(_0x437a71)[_0x3f2731('0x1a')]():_0x182a70=$(_0x437a71),_0x182a70[_0x3f2731('0x48')](_0x3f2731('0x49'));}function isEmptyInput(_0x37f7fd){var _0x52cf74=_0x5c33e8;return!$[_0x52cf74('0x15')](_0x37f7fd[_0x52cf74('0x69')]());}function convertToSearchParam(_0x2a2178){const _0x3b506a=new URLSearchParams();for(const [_0x18d27c,_0x358c0e]of _0x2a2178){_0x3b506a['set'](_0x18d27c,_0x358c0e);}return _0x3b506a;}function removeLoadingSpinner(){var _0x55cb9d=_0x5c33e8;$(_0x55cb9d('0x32'))[_0x55cb9d('0x4a')]();}function generateLoadingSpinner(){var _0xf67f8b=_0x5c33e8;const _0x35b665=document[_0xf67f8b('0x3a')](_0xf67f8b('0x43'));_0x35b665['setAttribute'](_0xf67f8b('0x20'),_0xf67f8b('0x22'));const _0x206853=document['createElement'](_0xf67f8b('0x43')),_0x5e959f=document[_0xf67f8b('0x3a')](_0xf67f8b('0x43')),_0x331461=document[_0xf67f8b('0x3a')](_0xf67f8b('0x43'));return _0x206853['setAttribute'](_0xf67f8b('0x20'),_0xf67f8b('0x3f')),_0x5e959f[_0xf67f8b('0x1f')]('class',_0xf67f8b('0x3d')),_0x331461[_0xf67f8b('0x1f')]('class',_0xf67f8b('0x14')),_0x35b665[_0xf67f8b('0x52')](_0x206853),_0x35b665[_0xf67f8b('0x52')](_0x5e959f),_0x35b665[_0xf67f8b('0x52')](_0x331461),_0x35b665;}function validateEmail(_0x7ae44){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/['test'](_0x7ae44))return!![];return![];}