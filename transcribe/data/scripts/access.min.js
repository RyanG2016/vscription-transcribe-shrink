var a0_0x15e9=['each','parent','acc_name','confirm','class','<i\x20class=\x22fas\x20fa-check-circle\x20vtex-status-icon\x22></i>','../api/v1/users/set-default/','find','../api/v1/access/','focus','Delete','responseJSON','append','access_id','uid','.modal','#uidIn','getElementById','attr','set','modal','css','stop','innerHTML','<i\x20class=\x22fas\x20fa-user-edit\x22></i>&nbsp;Update\x20Permission','fas\x20fa-trash-alt','bounce2','btn-red','Are\x20you\x20sure\x20do\x20you\x20want\x20to\x20revoke\x20access\x20to\x20<b>','reload','role_id','#access-tbl\x20tbody\x20tr','remove','Choose\x20Role','role_desc','inline','removeAttr','prop','&amp;','.spinner','ready','#modal','Edit','block','email','input:not(input[type=radio])','#accountBox','fas\x20fa-toggle-on','Choose\x20Account','createElement','Success','&quot;','style','ripple','../api/v1/access?dt&uid=','contextMenu','setAttribute','querySelector','delete','username','</b>\x20as\x20default\x20access\x20?<br><br>','Role','Set\x20as\x20default','animate','acc_id','#createAccBtn','div','</option>','test','disabled','#modalHeaderTitle','<i\x20class=\x22fas\x20fa-key\x22></i>\x20Set\x20as\x20default?','Email','display','trim','#refresh_btn','niceScroll','yes','val','\x20-\x20','bounce3','Def','none','#updateAccBtn','click','selectpicker','data','../api/v1/accounts/?access-model','GET','appendChild','roleBox','<option\x20value=\x27','ajax','&lt;','btn-green','white','addEventListener','edit','fas\x20fa-key','replace','Username','ajaxSetup','#createAcc','msg','def_access_id','.createAccForm\x20input:not(input[type=radio])','acc_role','row','Are\x20you\x20sure\x20do\x20you\x20want\x20to\x20set\x20<b>','#createAccForm','html','POST','checked','removeClass','Account','Error','body'];(function(_0x5504ca,_0x15e972){var _0x42495e=function(_0x1bfec9){while(--_0x1bfec9){_0x5504ca['push'](_0x5504ca['shift']());}};_0x42495e(++_0x15e972);}(a0_0x15e9,0x72));var a0_0x4249=function(_0x5504ca,_0x15e972){_0x5504ca=_0x5504ca-0x0;var _0x42495e=a0_0x15e9[_0x5504ca];return _0x42495e;};var _0x3e89d1=a0_0x4249;(function(_0x1bfec9){'use strict';}(jQuery));var accessDT,accessDTRef,createAcc,createAccModal,createAccForm,createAccBtn,updateAccBtn,modalHeaderTitle,accountsGlobal,rolesGlobal;const ACCOUNTS_URL=_0x3e89d1('0x5a'),ROLES_URL='../api/v1/roles/',API_INSERT_URL=_0x3e89d1('0xb'),SET_DEFAULT_ACCESS_URL=_0x3e89d1('0x9'),CREATE_ACC_HEADER='<i\x20class=\x22fas\x20fa-key\x22></i>&nbsp;Add\x20Permission',UPDATE_ACC_HEADER=_0x3e89d1('0x1b');var accountBox,roleBox,update=![],updateData,currentID,uid;$(document)[_0x3e89d1('0x2b')](function(){var _0x43adb8=_0x3e89d1;const _0x42467f=0xa;var _0x432cb1=$(_0x43adb8('0x13'));uid=_0x432cb1[_0x43adb8('0x51')](),createAccModal=document['getElementById'](_0x43adb8('0x17')),accessDT=$('#access-tbl'),createAcc=$(_0x43adb8('0x69')),createAccForm=$('#createAccForm'),createAccBtn=$(_0x43adb8('0x44')),updateAccBtn=$(_0x43adb8('0x56')),modalHeaderTitle=$(_0x43adb8('0x49')),accountBox=$(_0x43adb8('0x31')),roleBox=$('#roleBox'),$(_0x43adb8('0x12'))[_0x43adb8('0x4f')]({'hwacceleration':!![],'smoothscroll':!![],'cursorcolor':'white','cursorborder':0x0,'scrollspeed':0xa,'mousescrollstep':0x14,'cursoropacitymax':0.7}),$(_0x43adb8('0x2'))[_0x43adb8('0x4f')]({'hwacceleration':!![],'smoothscroll':!![],'cursorcolor':_0x43adb8('0x62'),'cursorborder':0x0,'scrollspeed':0xa,'mousescrollstep':0x14,'cursoropacitymax':0.7}),$[_0x43adb8('0x68')]({'cache':![]});const _0x13c6f8=document[_0x43adb8('0x3c')](_0x43adb8('0x4e'));new mdc[(_0x43adb8('0x38'))]['MDCRipple'](document[_0x43adb8('0x3c')](_0x43adb8('0x4e')));function _0x15b4bf(_0x4b144f=![],_0x1ade8f=null){var _0x960300=_0x43adb8,_0xdbefbb=new FormData(document[_0x960300('0x3c')](_0x960300('0x70')));_0xdbefbb[_0x960300('0xf')](_0x960300('0x11'),uid),createAccBtn[_0x960300('0x15')]('disabled',_0x960300('0x48')),updateAccBtn[_0x960300('0x15')](_0x960300('0x48'),_0x960300('0x48')),$[_0x960300('0x5f')]({'type':_0x4b144f?'PUT':_0x960300('0x72'),'url':_0x4b144f?API_INSERT_URL+_0x1ade8f+'/':API_INSERT_URL,'processData':![],'data':convertToSearchParam(_0xdbefbb),'success':function(_0x24e6d2){var _0x3d5e21=_0x960300;resetForm(),accessDTRef[_0x3d5e21('0x5f')][_0x3d5e21('0x20')](),createAccModal[_0x3d5e21('0x37')][_0x3d5e21('0x4c')]='none',$[_0x3d5e21('0x6')]({'title':_0x3d5e21('0x35'),'content':_0x24e6d2[_0x3d5e21('0x6a')],'buttons':{'confirm':{'btnClass':_0x3d5e21('0x61'),'action':function(){return!![];}}}});},'error':function(_0x57de36){var _0x48cdbc=_0x960300;$['confirm']({'title':'Error','content':_0x57de36[_0x48cdbc('0xe')][_0x48cdbc('0x6a')],'buttons':{'confirm':{'btnClass':_0x48cdbc('0x1e'),'action':function(){var _0xc74b6=_0x48cdbc;return createAccBtn[_0xc74b6('0x27')]('disabled'),updateAccBtn[_0xc74b6('0x27')]('disabled'),!![];}}}});}});}$(_0x43adb8('0x6c'))['each'](function(){var _0x1b83e7=_0x43adb8;$(this)[_0x1b83e7('0xc')](function(){hideValidate(this);});}),$('.createAccForm\x20input[type=radio]')[_0x43adb8('0x3')](function(){var _0x325a17=_0x43adb8;$(this)[_0x325a17('0xc')](function(){hideValidate(this,!![]);});}),accessDTRef=accessDT['DataTable']({'rowId':_0x43adb8('0x43'),'ajax':_0x43adb8('0x39')+uid,'processing':!![],'lengthChange':![],'pageLength':_0x42467f,'autoWidth':![],'columns':[{'title':'ID','data':_0x43adb8('0x10')},{'title':'Acc\x20ID','data':_0x43adb8('0x43')},{'title':_0x43adb8('0x0'),'data':_0x43adb8('0x5')},{'title':_0x43adb8('0x67'),'data':_0x43adb8('0x3e')},{'title':_0x43adb8('0x4b'),'data':_0x43adb8('0x2f')},{'title':'Role\x20ID','data':'acc_role'},{'title':_0x43adb8('0x40'),'data':_0x43adb8('0x25')},{'title':_0x43adb8('0x54'),'data':'access_id','render':function(_0x265088,_0x5b3b62,_0xc9d3c4){var _0x57af53=_0x43adb8;return _0x265088==_0xc9d3c4[_0x57af53('0x6b')]?_0x57af53('0x8'):'';}}]}),$[_0x43adb8('0x3a')]({'selector':_0x43adb8('0x22'),'callback':function(_0x18022d,_0x5da0bb){var _0x653a94=_0x43adb8,_0x1695e9=accessDTRef[_0x653a94('0x6e')](this)[_0x653a94('0x59')]();switch(_0x18022d){case _0x653a94('0x3d'):var _0x337e1a=_0x1695e9[_0x653a94('0x10')],_0x454702=_0x1695e9['email'];$[_0x653a94('0x6')]({'title':'<i\x20class=\x22fas\x20fa-user-minus\x22></i>\x20Revoke\x20Access?','content':_0x653a94('0x1f')+_0x1695e9[_0x653a94('0x5')]+'</b>\x20as\x20<b>'+_0x1695e9[_0x653a94('0x25')]+'</b>\x20?<br><br>','buttons':{'confirm':{'text':_0x653a94('0x50'),'btnClass':_0x653a94('0x1e'),'action':function(){return $['ajax']({'type':'DELETE','url':API_INSERT_URL+_0x337e1a,'processData':![],'contentType':![],'success':function(_0x561090){var _0x2d7a9e=a0_0x4249;accessDTRef[_0x2d7a9e('0x5f')][_0x2d7a9e('0x20')](),$[_0x2d7a9e('0x6')]({'title':_0x2d7a9e('0x35'),'content':_0x561090[_0x2d7a9e('0x6a')],'buttons':{'confirm':{'btnClass':_0x2d7a9e('0x61'),'action':function(){return!![];}}}});},'error':function(_0x1965bd){var _0x2a980c=a0_0x4249;accessDTRef[_0x2a980c('0x5f')][_0x2a980c('0x20')](),$['confirm']({'title':_0x2a980c('0x1'),'content':_0x1965bd['responseJSON']['msg'],'buttons':{'confirm':{'btnClass':_0x2a980c('0x1e'),'action':function(){return!![];}}}});}}),!![];}},'cancel':{'text':'no','btnClass':_0x653a94('0x61'),'function'(){return!![];}}}});break;case'def':var _0x4aeffb=_0x1695e9[_0x653a94('0x10')],_0x3bb926=_0x1695e9[_0x653a94('0x43')],_0x4936bb=_0x1695e9[_0x653a94('0x6d')],_0x127f4c=_0x1695e9[_0x653a94('0x11')];$['confirm']({'title':_0x653a94('0x4a'),'content':_0x653a94('0x6f')+_0x4aeffb+_0x653a94('0x3f'),'buttons':{'confirm':{'text':_0x653a94('0x50'),'btnClass':_0x653a94('0x61'),'action':function(){var _0x24cef9=_0x653a94,_0x44fb9d=new FormData();return _0x44fb9d[_0x24cef9('0xf')]('acc_id',_0x3bb926),_0x44fb9d[_0x24cef9('0xf')]('acc_role',_0x4936bb),_0x44fb9d[_0x24cef9('0xf')](_0x24cef9('0x11'),_0x127f4c),$[_0x24cef9('0x5f')]({'type':_0x24cef9('0x72'),'url':SET_DEFAULT_ACCESS_URL,'processData':![],'data':convertToSearchParam(_0x44fb9d),'success':function(_0x15a467){var _0x225f07=_0x24cef9;return accessDTRef[_0x225f07('0x5f')][_0x225f07('0x20')](),!![];},'error':function(_0x3cdd3a){var _0x138793=_0x24cef9;$[_0x138793('0x6')]({'title':'Error','content':_0x3cdd3a[_0x138793('0xe')][_0x138793('0x6a')],'buttons':{'confirm':{'btnClass':_0x138793('0x1e'),'action':function(){var _0x23f088=_0x138793;return accessDTRef['ajax'][_0x23f088('0x20')](),!![];}}}});}}),!![];}},'cancel':{'text':'no','btnClass':_0x653a94('0x1e'),'function'(){return!![];}}}});break;case _0x653a94('0x64'):preFillForm(_0x1695e9);break;}},'items':{'edit':{'name':_0x43adb8('0x2d'),'icon':_0x43adb8('0x65')},'def':{'name':_0x43adb8('0x41'),'icon':_0x43adb8('0x32')},'sep1':'---------','delete':{'name':_0x43adb8('0xd'),'icon':_0x43adb8('0x1c')}}}),_0x13c6f8[_0x43adb8('0x63')](_0x43adb8('0x57'),_0x34ab46=>{var _0x51ee8f=_0x43adb8;accessDTRef[_0x51ee8f('0x5f')][_0x51ee8f('0x20')]();}),createAcc['on']('click',function(_0x3f4650){var _0x1bd2b9=_0x43adb8;update=![],updateAccBtn[_0x1bd2b9('0x18')](_0x1bd2b9('0x4c'),_0x1bd2b9('0x55')),createAccBtn['css']('display',_0x1bd2b9('0x26')),createAccModal[_0x1bd2b9('0x37')][_0x1bd2b9('0x4c')]=_0x1bd2b9('0x2e'),$(_0x1bd2b9('0x2c'))[_0x1bd2b9('0x19')]()[_0x1bd2b9('0x42')]({'scrollTop':0x0},0x1f4);}),updateAccBtn['on']('click',function(_0x34bea1){_0x15b4bf(!![],currentID);}),createAccBtn['on'](_0x43adb8('0x57'),function(_0x51766f){_0x15b4bf();}),$('.cancel-acc-button')['on'](_0x43adb8('0x57'),function(_0x1ed8b0){var _0x2e295c=_0x43adb8;resetForm(),createAccModal[_0x2e295c('0x37')][_0x2e295c('0x4c')]='none';}),$[_0x43adb8('0x5f')]({'url':ACCOUNTS_URL,'method':_0x43adb8('0x5b'),'success':function(_0x3a4a2f){var _0x264281=_0x43adb8;accountsGlobal=_0x3a4a2f;const _0x455330=document[_0x264281('0x14')]('accountBox');for(const _0xb269a5 of _0x3a4a2f){_0x455330[_0x264281('0x1a')]+='<option\x20value=\x27'+_0xb269a5['acc_id']+'\x27>'+_0xb269a5[_0x264281('0x43')]+'\x20-\x20'+_0xb269a5[_0x264281('0x5')]+_0x264281('0x46');}accountBox['selectpicker']({'liveSearch':!![],'liveSearchPlaceholder':_0x264281('0x33')}),createAccBtn['removeAttr'](_0x264281('0x48')),updateAccBtn[_0x264281('0x27')](_0x264281('0x48'));}}),$[_0x43adb8('0x5f')]({'url':ROLES_URL,'method':_0x43adb8('0x5b'),'success':function(_0x2601b9){var _0x431749=_0x43adb8;rolesGlobal=_0x2601b9;const _0x43a147=document[_0x431749('0x14')](_0x431749('0x5d'));for(const _0x55bb55 of _0x2601b9){_0x43a147[_0x431749('0x1a')]+=_0x431749('0x5e')+_0x55bb55[_0x431749('0x21')]+'\x27>'+_0x55bb55[_0x431749('0x21')]+_0x431749('0x52')+_0x55bb55['role_desc']+_0x431749('0x46');}roleBox[_0x431749('0x58')]({'liveSearch':!![],'liveSearchPlaceholder':_0x431749('0x24')});}});});function htmlEncodeStr(_0x181d18){var _0x41ef97=_0x3e89d1;return _0x181d18[_0x41ef97('0x66')](/&/g,_0x41ef97('0x29'))[_0x41ef97('0x66')](/>/g,'&gt;')[_0x41ef97('0x66')](/</g,_0x41ef97('0x60'))[_0x41ef97('0x66')](/"/g,_0x41ef97('0x36'))['replace'](/'/g,'&lsquo;');}function resetForm(){var _0x5d06e9=_0x3e89d1;modalHeaderTitle['html'](CREATE_ACC_HEADER),updateAccBtn[_0x5d06e9('0x18')](_0x5d06e9('0x4c'),'none'),createAccBtn[_0x5d06e9('0x18')](_0x5d06e9('0x4c'),_0x5d06e9('0x26')),createAccForm[_0x5d06e9('0xa')](_0x5d06e9('0x30'))[_0x5d06e9('0x51')](''),createAccForm[_0x5d06e9('0xa')]('input[type=radio]')[_0x5d06e9('0x28')](_0x5d06e9('0x73'),![])['change'](),createAccBtn[_0x5d06e9('0x27')](_0x5d06e9('0x48')),updateAccBtn[_0x5d06e9('0x27')](_0x5d06e9('0x48'));}function preFillForm(_0x81d91c){var _0x23e536=_0x3e89d1;update=!![],updateData=_0x81d91c,currentID=_0x81d91c[_0x23e536('0x10')],modalHeaderTitle[_0x23e536('0x71')](UPDATE_ACC_HEADER),updateAccBtn[_0x23e536('0x18')](_0x23e536('0x4c'),'inline'),createAccBtn[_0x23e536('0x18')]('display',_0x23e536('0x55')),accountBox[_0x23e536('0x58')](_0x23e536('0x51'),_0x81d91c[_0x23e536('0x43')]),roleBox['selectpicker']('val',_0x81d91c[_0x23e536('0x6d')]),createAccModal['style'][_0x23e536('0x4c')]=_0x23e536('0x2e'),$(_0x23e536('0x2c'))[_0x23e536('0x19')]()[_0x23e536('0x42')]({'scrollTop':0x0},0x1f4);}function hideValidate(_0x3b7e87,_0x5ddb55=![]){var _0x5ca777=_0x3e89d1,_0x4cd69d;_0x5ddb55?_0x4cd69d=$(_0x3b7e87)[_0x5ca777('0x4')]():_0x4cd69d=$(_0x3b7e87),_0x4cd69d[_0x5ca777('0x74')]('vtex-validate-error');}function isEmptyInput(_0x5b3781){var _0x4a6cd9=_0x3e89d1;return!$[_0x4a6cd9('0x4d')](_0x5b3781[_0x4a6cd9('0x51')]());}function convertToSearchParam(_0x424a17){var _0x43da63=_0x3e89d1;const _0x14c751=new URLSearchParams();for(const [_0x214a38,_0x192c3b]of _0x424a17){_0x14c751[_0x43da63('0x16')](_0x214a38,_0x192c3b);}return _0x14c751;}function removeLoadingSpinner(){var _0x2c9682=_0x3e89d1;$(_0x2c9682('0x2a'))[_0x2c9682('0x23')]();}function generateLoadingSpinner(){var _0x23b605=_0x3e89d1;const _0x1d06d8=document[_0x23b605('0x34')](_0x23b605('0x45'));_0x1d06d8[_0x23b605('0x3b')](_0x23b605('0x7'),'spinner');const _0x9ff088=document[_0x23b605('0x34')](_0x23b605('0x45')),_0x1b7b39=document['createElement'](_0x23b605('0x45')),_0x4969ea=document[_0x23b605('0x34')](_0x23b605('0x45'));return _0x9ff088[_0x23b605('0x3b')]('class','bounce1'),_0x1b7b39[_0x23b605('0x3b')](_0x23b605('0x7'),_0x23b605('0x1d')),_0x4969ea[_0x23b605('0x3b')](_0x23b605('0x7'),_0x23b605('0x53')),_0x1d06d8[_0x23b605('0x5c')](_0x9ff088),_0x1d06d8[_0x23b605('0x5c')](_0x1b7b39),_0x1d06d8['appendChild'](_0x4969ea),_0x1d06d8;}function validateEmail(_0x201824){var _0x3661fc=_0x3e89d1;if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/[_0x3661fc('0x47')](_0x201824))return!![];return![];}