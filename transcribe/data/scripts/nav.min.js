const a0_0x2521=['getElementById','refresh','#accountBox','css','#alertT0','indexOf','selectpicker','../api/v1/access/?out','Setting\x20role,\x20please\x20wait..','#typist0','#typistCount','click','overflow','#typist1','POST','btn-red','show','val','&type=','#updateRoleBtn','<i\x20class=\x22fas\x20fa-user-edit\x22></i>&nbsp;Set\x20Default','block','<option\x20value=\x27','modal','</option>','acc_role','disabled','html','#navOverlay','../api/v1/users/set-default/','../api/v1/access?out&acc_id=','set','none','append','display','responseJSON','GET','msg','fadeOut','remove','hide','ajax','removeAttr','changed.bs.select','confirm','Error','push','abort','#modalHeaderTitle','body','reload','#roleBox','innerHTML','auto','length','../api/v1/access?out&count','style','acc_id','#setDefaultRoleBtn'];(function(_0x3ae931,_0x25212b){const _0x2b8771=function(_0x38a7ba){while(--_0x38a7ba){_0x3ae931['push'](_0x3ae931['shift']());}};_0x2b8771(++_0x25212b);}(a0_0x2521,0x1b4));const a0_0x2b87=function(_0x3ae931,_0x25212b){_0x3ae931=_0x3ae931-0x0;let _0x2b8771=a0_0x2521[_0x3ae931];return _0x2b8771;};const _0x5e5a9d=a0_0x2b87;var setDefaultModal,accessesGlobal,rolesGlobal,typistAccessCount,accountsArray=[],roleRequest;const ROLES_FOR_ACCOUNT_URL=_0x5e5a9d('0x7'),ROLES_COUNT_FOR_ACCOUNT_URL=_0x5e5a9d('0x20'),ACCESS_URL=_0x5e5a9d('0x2b'),SET_DEFAULT_ACCESS_URL=_0x5e5a9d('0x6'),CHANGE_ROLE_HEADER='<i\x20class=\x22fas\x20fa-wrench\x22></i>&nbsp;Change\x20Role',SET_DEFAULT_ROLE_HEADER=_0x5e5a9d('0x38');changeRoleBtn=$('#changeRoleBtn'),setDefaultRoleBtn=$(_0x5e5a9d('0x23')),updateRoleModalBtn=$(_0x5e5a9d('0x37')),changeRoleModal=$('#changeRole'),accountBox=$(_0x5e5a9d('0x26')),roleBox=$(_0x5e5a9d('0x1c')),navLoverlay=$(_0x5e5a9d('0x5')),navLoverlayText=$('#navOverlayText'),modalHeaderTitle=$(_0x5e5a9d('0x19')),setDefaultRoleBtn['on']('click',function(_0x38a7ba){setModalUI(!![]),changeRoleModal['modal']();}),updateRoleModalBtn['on'](_0x5e5a9d('0x2f'),function(_0x5dcda6){const _0x771787=_0x5e5a9d;updateRoleModalBtn['attr'](_0x771787('0x3'),_0x771787('0x3')),changeLoading(!![],_0x771787('0x2c'));var _0x551520=new FormData();_0x551520[_0x771787('0xa')]('acc_id',accountBox[_0x771787('0x2a')](_0x771787('0x35'))),_0x551520[_0x771787('0xa')]('acc_role',roleBox[_0x771787('0x2a')](_0x771787('0x35'))),$[_0x771787('0x12')]({'type':'POST','url':setDefaultModal?SET_DEFAULT_ACCESS_URL:ACCESS_URL,'processData':![],'data':convertToSearchParam(_0x551520),'success':function(_0x1f680e){const _0x29fc79=_0x771787;changeRoleModal[_0x29fc79('0x0')](_0x29fc79('0x11')),location[_0x29fc79('0x1b')]();},'error':function(_0x3013d3){const _0x13aab0=_0x771787;changeLoading(![]),$[_0x13aab0('0x15')]({'title':_0x13aab0('0x16'),'content':_0x3013d3[_0x13aab0('0xc')][_0x13aab0('0xe')],'buttons':{'confirm':{'btnClass':_0x13aab0('0x33'),'action':function(){const _0x3d43c5=_0x13aab0;return updateRoleModalBtn['removeAttr'](_0x3d43c5('0x3')),!![];}}}});}});}),changeRoleBtn['on'](_0x5e5a9d('0x2f'),function(_0x25b766){const _0x1f68f1=_0x5e5a9d;setModalUI(![]),changeRoleModal['modal'](_0x1f68f1('0x34'));}),getRolesCount(0x3);function getRolesCount(_0x5f26ac=0x0){const _0x195416=_0x5e5a9d;var _0x5f5499='';_0x5f26ac&&(_0x5f5499=_0x195416('0x36')+_0x5f26ac),$[_0x195416('0x12')]({'url':ROLES_COUNT_FOR_ACCOUNT_URL+_0x5f5499,'method':_0x195416('0xd'),'success':function(_0x1f7642){const _0x4509fc=_0x195416;typistAccessCount=_0x1f7642['count'],$(_0x4509fc('0x2e'))['html'](typistAccessCount),typistAccessCount>0x0?($(_0x4509fc('0x2d'))['remove'](),$(_0x4509fc('0x28'))[_0x4509fc('0x10')]()):($(_0x4509fc('0x31'))['remove'](),$('#alertT1')[_0x4509fc('0x10')]());}});}function setModalUI(_0x56d86b=![]){const _0x52204a=_0x5e5a9d;setDefaultModal=_0x56d86b,_0x56d86b?modalHeaderTitle['html'](SET_DEFAULT_ROLE_HEADER):modalHeaderTitle[_0x52204a('0x4')](CHANGE_ROLE_HEADER);}$[_0x5e5a9d('0x12')]({'url':ACCESS_URL,'method':_0x5e5a9d('0xd'),'success':function(_0x4ca30c){const _0x364866=_0x5e5a9d;accessesGlobal=_0x4ca30c;const _0x2b2326=document[_0x364866('0x24')]('accountBox');for(const _0x42d757 of _0x4ca30c){if(accountsArray[_0x364866('0x29')](_0x42d757[_0x364866('0x22')])!=-0x1)continue;accountsArray[_0x364866('0x17')](_0x42d757[_0x364866('0x22')]),_0x2b2326[_0x364866('0x1d')]+=_0x364866('0x3a')+_0x42d757[_0x364866('0x22')]+'\x27>'+_0x42d757['acc_name']+_0x364866('0x1');}accountBox[_0x364866('0x2a')]({'liveSearch':!![],'liveSearchPlaceholder':'Choose\x20Account'}),loadRolesForAccount(accountBox['selectpicker'](_0x364866('0x35'))),accountBox['on'](_0x364866('0x14'),function(_0x121eef,_0x276877,_0x5a5faa,_0x40e9d0){const _0xa97c27=_0x364866;changeLoading(!![],'Loading\x20roles..'),loadRolesForAccount(accountBox[_0xa97c27('0x2a')]('val'));});}});function checkForSingleRoleToSet(){const _0x4321e8=_0x5e5a9d;accessesGlobal[_0x4321e8('0x1f')]==0x1?rolesGlobal[_0x4321e8('0x1f')]==0x1?setCurrentRole(rolesGlobal[0x0]['acc_id'],rolesGlobal[0x0][_0x4321e8('0x2')]):(changeRoleModal[_0x4321e8('0x0')]('show'),changeLoading(![])):(accessesGlobal[_0x4321e8('0x1f')]!=0x0&&changeRoleModal[_0x4321e8('0x0')](_0x4321e8('0x34')),changeLoading(![]));}function setCurrentRole(_0x25edf8,_0x40d08b){const _0x5c837f=_0x5e5a9d;var _0x31d74b=new FormData();_0x31d74b[_0x5c837f('0xa')](_0x5c837f('0x22'),_0x25edf8),_0x31d74b[_0x5c837f('0xa')]('acc_role',_0x40d08b),$['ajax']({'type':_0x5c837f('0x32'),'url':ACCESS_URL,'processData':![],'data':convertToSearchParam(_0x31d74b),'success':function(_0x3f71ea){const _0x402d56=_0x5c837f;changeRoleModal[_0x402d56('0x0')](_0x402d56('0x11')),_0x40d08b==0x2?location['href']='main.php':location[_0x402d56('0x1b')]();},'error':function(_0x453db5){}});}function loadRolesForAccount(_0x2e9624){const _0x4a998b=_0x5e5a9d;roleBox[_0x4a998b('0x2a')]('destroy'),roleRequest!=null&&roleRequest[_0x4a998b('0x18')](),roleRequest=$[_0x4a998b('0x12')]({'url':ROLES_FOR_ACCOUNT_URL+_0x2e9624,'method':_0x4a998b('0xd'),'success':function(_0x1206c5){const _0x5c51b7=_0x4a998b;rolesGlobal=_0x1206c5,updateRoleModalBtn[_0x5c51b7('0x13')](_0x5c51b7('0x3'));const _0x256d06=document[_0x5c51b7('0x24')]('roleBox');_0x256d06[_0x5c51b7('0x1d')]='';for(const _0x2d7d2e of _0x1206c5){_0x256d06[_0x5c51b7('0x1d')]+=_0x5c51b7('0x3a')+_0x2d7d2e[_0x5c51b7('0x2')]+'\x27>'+_0x2d7d2e['role_desc']+'</option>';}roleBox[_0x5c51b7('0x2a')]({'liveSearch':!![],'liveSearchPlaceholder':'Choose\x20Role'}),roleBox[_0x5c51b7('0x2a')](_0x5c51b7('0x25')),!roleIsset?checkForSingleRoleToSet():changeLoading(![]);}});}function changeLoading(_0xc8b79c,_0x30c38a=![]){const _0x593cf9=_0x5e5a9d;if(!_0xc8b79c)navLoverlay[_0x593cf9('0xf')](),$('body')['css'](_0x593cf9('0x30'),_0x593cf9('0x1e'));else{$(_0x593cf9('0x1a'))[_0x593cf9('0x27')](_0x593cf9('0x30'),_0x593cf9('0x9'));if(_0x30c38a)navLoverlayText['html'](_0x30c38a);navLoverlay[0x0][_0x593cf9('0x21')][_0x593cf9('0xb')]=_0x593cf9('0x39');}}function convertToSearchParam(_0x29a0c5){const _0x20ea0c=_0x5e5a9d,_0x473da7=new URLSearchParams();for(const [_0x5aae03,_0x4b9525]of _0x29a0c5){_0x473da7[_0x20ea0c('0x8')](_0x5aae03,_0x4b9525);}return _0x473da7;}